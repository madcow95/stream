<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BoardMapper">
	<select id="boardList" resultType="com.moviestream.movie.domain.BoardDTO">
				<![CDATA[
			SELECT articleno,
				   subject,
				   content,
				   reg_date,
				   readcount,
				   ref,
				   re_step,
				   re_level,
				   filename,
				   id
			FROM  (
				   SELECT /*+ INDEX_DESC(board BOARD_NUM_PK) */
				   		  rownum rn,
				   		  articleno,
				   		  subject,
				   		  content,
				   		  reg_date,
				   		  readcount,
				   		  ref,
				   		  re_step,
				   		  re_level,
				   		  filename,
				   		  id
				   FROM	  board
				   WHERE  rownum <= #{pageNum} * #{amount})
			WHERE rn > (#{pageNum} - 1) * #{amount}
		]]>
	</select>
	
	<select id="getTotalCnt" resultType="int">
		SELECT COUNT(*)
		FROM board
		WHERE articleno > 0
	</select>
	
	<select id="read">
		SELECT *
		FROM board
		WHERE articleno=#{articleno}
	</select>
</mapper>